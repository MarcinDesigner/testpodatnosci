<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testowa Strona Podatności</title>
    
    <!-- Symulacja błędu Next.js, gdzie dane trafiają do HTML -->
    <script id="__TEST_DATA__">
    {
        "user": {
            "email": "admin@example.com",
            "role": "admin",
            "token": "leaked_refresh_token_123456"
        },
        "config": {
            "database_password": "super_secret_password_123",
            "service_role_key": "service_role_FAKE_TEST_123456"
        }
    }
    </script>
</head>
<body>
    <h1>Testowa Strona Podatności</h1>
    <p>To jest celowo podatna strona testowa.</p>
    
    <h2>Testy API</h2>
    <ul>
        <li><a href="api.php?id=1">API Endpoint 1</a></li>
        <li><a href="api.php?id=2">API Endpoint 2</a></li>
        <li><a href="api/login.php?user=admin&pass=admin">Login (bez rate limiting)</a></li>
    </ul>
    
    <h2>Directory Listing</h2>
    <ul>
        <li><a href="test/">Test Directory (backup.zip, config.json, data.csv)</a></li>
    </ul>
    
    <h2>SSRF (Server-Side Request Forgery)</h2>
    <ul>
        <li><a href="ssrf.php?url=http://localhost:80">SSRF Test (localhost)</a></li>
        <li><a href="ssrf.php?url=http://169.254.169.254/latest/meta-data/">Test Metadata (AWS EC2)</a></li>
    </ul>
    
    <h2>NoSQL Injection</h2>
    <ul>
        <li><a href="nosql.php?user[$ne]=1">NoSQL Injection Test</a></li>
    </ul>
    
    <h2>XSS (Cross-Site Scripting)</h2>
    <form action="xss.php" method="GET">
        <input type="text" name="q" placeholder="Wpisz coś">
        <button>Szukaj</button>
    </form>
    
    <h2>Upload</h2>
    <form action="upload.php" method="post" enctype="multipart/form-data">
        <input type="file" name="file">
        <button type="submit">Upload</button>
    </form>
    
    <h2>Brute Force (POST)</h2>
    <form action="login.php" method="POST">
        <input name="user" value="admin">
        <input name="pass" value="admin">
        <button>Login POST</button>
    </form>
    
    <h2>GraphQL</h2>
    <ul>
        <li><a href="graphql.php?query={users{id,email}}">GraphQL test</a></li>
    </ul>
    
    <h2>Wycieki</h2>
    <ul>
        <li><a href=".git/config">Git config (wyciek)</a></li>
        <li><a href="api.js.map">Publiczna sourcemapa API</a></li>
    </ul>
    
    <script>
        // Celowo wyeksponowane klucze API - FAKE TEST DATA ONLY
        const STRIPE = "sk_live_FAKE_TEST_KEY_12345678901234567890";
        const ALGOLIA_KEY = "FAKE_TEST_AGKASD123-SDF-456-789";
        const TWITTER_BEARER = "FAKE_TEST_BEARER_TOKEN_AAAAAAAAAAAAAAAAAAAAAAAA";
        const AWS_ACCESS_KEY = "AKIAFAKETESTEXAMPLE123";
        const AWS_SECRET_KEY = "FAKE_TEST_wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY";
        
        // Supabase keys - wyeksponowane w kodzie
        const SUPABASE_SERVICE_ROLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlc3QiLCJyb2xlIjoic2VydmljZV9yb2xlIn0.dummy";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlc3QiLCJyb2xlIjoiYW5vbiJ9.dummy";
        
        // Firebase config z anonimową autentykacją
        const firebaseConfig = {
            apiKey: "AIzaSyDummyKey123456789",
            authDomain: "test-vulnerable.firebaseapp.com",
            projectId: "test-vulnerable",
            storageBucket: "test-vulnerable.appspot.com",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:abcdef123456"
        };
        
        // Test CORS
        fetch('api.php?id=1', {
            method: 'GET',
            credentials: 'include'
        });
        
        // Test CORS misconfiguration
        fetch("cors-test.php", {
            method: "POST",
            credentials: "include"
        });
        
        // LocalStorage - wycieki sesji
        localStorage.setItem("session_token", "FAKE_USER_SESSION_1234567");
        localStorage.setItem("refresh_token", "FAKE_REFRESH_987654321");
        
        // Cookie bez HTTPOnly + Secure
        document.cookie = "jwt=FAKE_JWT_12345; path=/";
    </script>
    
    <!-- Source map reference -->
    <script src="index.js"></script>
    
    <!-- Publiczna sourcemapa API -->
    <script src="api.js"></script>
    <script src="api.js.map"></script>
</body>
</html>

