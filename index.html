<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testowa Strona Podatności</title>
    
    <!-- Symulacja błędu Next.js, gdzie dane trafiają do HTML -->
    <script id="__TEST_DATA__">
    {
        "user": {
            "email": "admin@example.com",
            "role": "admin",
            "token": "leaked_refresh_token_123456"
        },
        "config": {
            "database_password": "super_secret_password_123",
            "service_role_key": "service_role_FAKE_TEST_123456"
        }
    }
    </script>
</head>
<body>
    <h1>Testowa Strona Podatności</h1>
    <p>To jest celowo podatna strona testowa.</p>
    
    <h2>Testy API</h2>
    <ul>
        <li><a href="api.php?id=1">API Endpoint 1</a></li>
        <li><a href="api.php?id=2">API Endpoint 2</a></li>
        <li><a href="api/login.php?user=admin&pass=admin">Login (bez rate limiting)</a></li>
    </ul>
    
    <h2>Directory Listing</h2>
    <ul>
        <li><a href="test/">Test Directory (backup.zip, config.json, data.csv)</a></li>
    </ul>
    
    <h2>SSRF (Server-Side Request Forgery)</h2>
    <ul>
        <li><a href="ssrf.php?url=http://localhost:80">SSRF Test (localhost)</a></li>
        <li><a href="ssrf.php?url=http://169.254.169.254/latest/meta-data/">Test Metadata (AWS EC2)</a></li>
    </ul>
    
    <h2>NoSQL Injection</h2>
    <ul>
        <li><a href="nosql.php?user[$ne]=1">NoSQL Injection Test</a></li>
    </ul>
    
    <h2>PostgreSQL SQL Injection</h2>
    <ul>
        <li><a href="postgres-sqli.php?id=1">PostgreSQL SQLi Basic</a></li>
        <li><a href="postgres-sqli.php?id=1' OR '1'='1">PostgreSQL SQLi (OR 1=1)</a></li>
        <li><a href="postgres-sqli.php?id=1' UNION SELECT NULL, version(), NULL--">PostgreSQL SQLi (Version)</a></li>
        <li><a href="postgres-advanced.php?search=test">PostgreSQL SQLi Advanced</a></li>
        <li><a href="api/search.php?q=test">SQL Injection (MySQL)</a></li>
    </ul>
    
    <h2>XSS (Cross-Site Scripting)</h2>
    <form action="xss.php" method="GET">
        <input type="text" name="q" placeholder="Wpisz coś">
        <button>Szukaj</button>
    </form>
    
    <h2>Upload</h2>
    <form action="upload.php" method="post" enctype="multipart/form-data">
        <input type="file" name="file">
        <button type="submit">Upload</button>
    </form>
    
    <h2>Brute Force (POST)</h2>
    <form action="login.php" method="POST">
        <input name="user" value="admin">
        <input name="pass" value="admin">
        <button>Login POST</button>
    </form>
    
    <h2>GraphQL</h2>
    <ul>
        <li><a href="graphql.php?query={users{id,email}}">GraphQL test</a></li>
    </ul>
    
    <h2>XXE (XML External Entity)</h2>
    <ul>
        <li><a href="xxe.php">XXE Test</a></li>
    </ul>
    
    <h2>Path Traversal</h2>
    <ul>
        <li><a href="path-traversal.php?file=../../etc/passwd">Path Traversal Test</a></li>
    </ul>
    
    <h2>Open Redirect</h2>
    <ul>
        <li><a href="redirect.php?url=https://evil.com">Open Redirect Test</a></li>
    </ul>
    
    <h2>CSRF (Cross-Site Request Forgery)</h2>
    <ul>
        <li><a href="csrf-test.php">CSRF Test</a></li>
    </ul>
    
    <h2>JWT Weaknesses</h2>
    <ul>
        <li><a href="jwt-test.php">JWT Test (alg=none, weak secret)</a></li>
    </ul>
    
    <h2>Command Injection</h2>
    <ul>
        <li><a href="command-injection.php?cmd=whoami">Command Injection Test</a></li>
    </ul>
    
    <h2>Verbose Error Messages</h2>
    <ul>
        <li><a href="error-test.php">Error Test (stack traces)</a></li>
    </ul>
    
    <h2>Debug Mode</h2>
    <ul>
        <li><a href="debug.php">Debug Mode (phpinfo)</a></li>
    </ul>
    
    <h2>Host Header Injection</h2>
    <ul>
        <li><a href="host-header.php">Host Header Injection Test</a></li>
    </ul>
    
    <h2>HTTP Parameter Pollution</h2>
    <ul>
        <li><a href="parameter-pollution.php?user=admin&user=attacker">Parameter Pollution Test</a></li>
    </ul>
    
    <h2>LDAP Injection</h2>
    <ul>
        <li><a href="ldap-injection.php?username=*)(&">LDAP Injection Test</a></li>
    </ul>
    
    <h2>XPATH Injection</h2>
    <ul>
        <li><a href="xpath-injection.php?name=' or '1'='1">XPATH Injection Test</a></li>
    </ul>
    
    <h2>Mass Assignment</h2>
    <ul>
        <li><a href="mass-assignment.php">Mass Assignment Test</a></li>
    </ul>
    
    <h2>Password Reset</h2>
    <ul>
        <li><a href="password-reset.php?email=admin@example.com">Insecure Password Reset</a></li>
    </ul>
    
    <h2>User Enumeration</h2>
    <ul>
        <li><a href="user-enumeration.php?email=admin@example.com&password=wrong">User Enumeration Test</a></li>
    </ul>
    
    <h2>Exposed Admin Panel</h2>
    <ul>
        <li><a href="admin.php">Admin Panel (default credentials)</a></li>
    </ul>
    
    <h2>Business Logic Flaws</h2>
    <ul>
        <li><a href="business-logic.php">Business Logic Test (negative prices)</a></li>
    </ul>
    
    <h2>Session Fixation</h2>
    <ul>
        <li><a href="session-fixation.php?user=admin">Session Fixation Test</a></li>
    </ul>
    
    <h2>Insecure Deserialization</h2>
    <ul>
        <li><a href="deserialization.php">Deserialization Test</a></li>
    </ul>
    
    <h2>Information Disclosure</h2>
    <ul>
        <li><a href="headers.php">Exposed Headers (X-Powered-By, Server)</a></li>
    </ul>
    
    <h2>Wycieki</h2>
    <ul>
        <li><a href=".git/config">Git config (wyciek)</a></li>
        <li><a href="api.js.map">Publiczna sourcemapa API</a></li>
        <li><a href=".env">.env file</a></li>
        <li><a href="config.php">Config file</a></li>
    </ul>
    
    <script>
        // Celowo wyeksponowane klucze API - FAKE TEST DATA ONLY
        const STRIPE = "sk_live_FAKE_TEST_KEY_12345678901234567890";
        const ALGOLIA_KEY = "FAKE_TEST_AGKASD123-SDF-456-789";
        const TWITTER_BEARER = "FAKE_TEST_BEARER_TOKEN_AAAAAAAAAAAAAAAAAAAAAAAA";
        const AWS_ACCESS_KEY = "AKIAFAKETESTEXAMPLE123";
        const AWS_SECRET_KEY = "FAKE_TEST_wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY";
        
        // Supabase keys - wyeksponowane w kodzie
        const SUPABASE_SERVICE_ROLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlc3QiLCJyb2xlIjoic2VydmljZV9yb2xlIn0.dummy";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlc3QiLCJyb2xlIjoiYW5vbiJ9.dummy";
        
        // Firebase config z anonimową autentykacją
        const firebaseConfig = {
            apiKey: "AIzaSyDummyKey123456789",
            authDomain: "test-vulnerable.firebaseapp.com",
            projectId: "test-vulnerable",
            storageBucket: "test-vulnerable.appspot.com",
            messagingSenderId: "123456789012",
            appId: "1:123456789012:web:abcdef123456"
        };
        
        // Test CORS
        fetch('api.php?id=1', {
            method: 'GET',
            credentials: 'include'
        });
        
        // Test CORS misconfiguration
        fetch("cors-test.php", {
            method: "POST",
            credentials: "include"
        });
        
        // LocalStorage - wycieki sesji
        localStorage.setItem("session_token", "FAKE_USER_SESSION_1234567");
        localStorage.setItem("refresh_token", "FAKE_REFRESH_987654321");
        
        // Cookie bez HTTPOnly + Secure
        document.cookie = "jwt=FAKE_JWT_12345; path=/";
    </script>
    
    <!-- Source map reference -->
    <script src="index.js"></script>
    
    <!-- Publiczna sourcemapa API -->
    <script src="api.js"></script>
    <script src="api.js.map"></script>
</body>
</html>

